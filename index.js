import{i as A,a as g}from"./assets/vendor-DSJL_ovD.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();document.querySelectorAll(".tab-btn").forEach(o=>{o.addEventListener("click",()=>{document.querySelectorAll(".tab-btn").forEach(s=>s.classList.remove("active")),document.querySelectorAll(".tab-content").forEach(s=>s.classList.remove("active")),o.classList.add("active");const e=o.getAttribute("data-tab");document.getElementById(e).classList.add("active")})});function d(o){A.warning({message:o,titleColor:"#fff",titleSize:"16px",titleLineHeight:"1.5",messageColor:"#fff",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topCenter",timeout:5e3})}function L(o){A.success({message:o,titleColor:"#fff",titleSize:"16px",titleLineHeight:"1.5",messageColor:"#fff",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"green",position:"topCenter",timeout:5e3})}function B(o){A.info({message:o,titleColor:"#fff",titleSize:"16px",titleLineHeight:"1.5",messageColor:"#000",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"yellow",position:"topCenter",timeout:5e3})}const h=document.getElementById("collection-clone");h.addEventListener("submit",async o=>{o.preventDefault();const e=h.querySelector(".partner-fund-btn"),s=h.querySelector(".loader");s.style.display="block",e.disabled=!0,e.classList.add("disabled");const r=document.getElementById("apiKeyFromCol").value.trim(),t=document.getElementById("apiKeyToCol").value.trim(),n=document.getElementById("colIdFromCol").value.trim(),i=document.getElementById("wpIdToCol").value.trim();try{await k(r,t,n,i),h.reset()}finally{s.style.display="none",e.disabled=!1,e.classList.remove("disabled")}});async function k(o,e,s,r){var i,f;const t={"X-Api-Key":o},n={"X-Api-Key":e};try{const c=`https://api.getpostman.com/collections/${s}`,l=(await g.get(c,{headers:t})).data.collection;l.info&&l.info._postman_id&&delete l.info._postman_id,l.info&&l.info.uid&&delete l.info.uid;const m=`https://api.getpostman.com/collections?workspace=${r}`,b={collection:l},p=await g.post(m,b,{headers:n});p.status===200||p.status===201?L(`The collection "${l.info.name}" has been successfully cloned to the target workspace.`):d(`Error creating collection: status ${p.status}`)}catch(c){const a=(f=(i=c.response)==null?void 0:i.data)==null?void 0:f.error;a&&a.name&&a.message?d(`Error cloning collection: ${a.name} - ${a.message}`):c.response?d(`Error cloning collection: ${JSON.stringify(c.response.data)}`):d(`Error cloning collection: ${c.message}`)}}const v=document.getElementById("all-collections");v.addEventListener("submit",async o=>{o.preventDefault();const e=v.querySelector(".partner-fund-btn"),s=v.querySelector(".loader");s.style.display="block",e.disabled=!0,e.classList.add("disabled");const r=document.getElementById("apiKeyFromAll").value.trim(),t=document.getElementById("apiKeyToAll").value.trim(),n=document.getElementById("wpIdFromAll").value.trim(),i=document.getElementById("wpIdToAll").value.trim();try{await x(r,t,n,i),v.reset()}finally{s.style.display="none",e.disabled=!1,e.classList.remove("disabled")}});async function C(o,e){const s=`https://api.getpostman.com/collections?workspace=${o}`;return(await g.get(s,{headers:e})).data.collections}async function x(o,e,s,r){var i,f;const t={"X-Api-Key":o},n={"X-Api-Key":e};try{const c=await C(s,t),a=await C(r,n);for(let l of c){const m=l.name;if(a.some(p=>p.name===m))D(`The collection "${m}" already exists in the target workspace.`);else{const p=`https://api.getpostman.com/collections/${l.uid}`,u=(await g.get(p,{headers:t})).data.collection;u.info&&u.info._postman_id&&delete u.info._postman_id,u.info&&u.info.uid&&delete u.info.uid;const w=`https://api.getpostman.com/collections?workspace=${r}`,I={collection:u},y=await g.post(w,I,{headers:n});y.status===200||y.status===201?L(`The collection  "${m}" has been successfully cloned to the target workspace.`):d(`Error creating collection: status  "${m}": status ${y.status}`)}}}catch(c){const a=(f=(i=c.response)==null?void 0:i.data)==null?void 0:f.error;a&&a.name&&a.message?d(`Error cloning collection: ${a.name} - ${a.message}`):c.response?d(`Error cloning collection: ${JSON.stringify(c.response.data)}`):d(`Error cloning collection: ${c.message}`)}}let $=0;function D(o){$++,setTimeout(()=>{B(o),$--},$*2e3)}const E=document.getElementById("environment-clone");E.addEventListener("submit",async o=>{o.preventDefault();const e=E.querySelector(".partner-fund-btn"),s=E.querySelector(".loader");s.style.display="block",e.disabled=!0,e.classList.add("disabled");const r=document.getElementById("apiKeyFromAll").value.trim(),t=document.getElementById("apiKeyToAll").value.trim(),n=document.getElementById("wpIdFromAll").value.trim(),i=document.getElementById("wpIdToAll").value.trim();try{await F(r,t,n,i),E.reset()}finally{s.style.display="none",e.disabled=!1,e.classList.remove("disabled")}});async function S(o,e){const s=`https://api.getpostman.com/environments?workspace=${o}`;return(await g.get(s,{headers:e})).data.environments}async function F(o,e,s,r){var i,f;const t={"X-Api-Key":o},n={"X-Api-Key":e};try{const c=await S(s,t),a=await S(r,n);for(let l of c){const m=l.name;if(a.some(T=>T.name===m)){B(`The environment "${m}" already exists in the target workspace.`);continue}const p=`https://api.getpostman.com/environments/${l.uid}`,u=(await g.get(p,{headers:t})).data.environment;delete u.id,delete u.uid;const w=`https://api.getpostman.com/environments?workspace=${r}`,I={environment:u},y=await g.post(w,I,{headers:n});y.status===200||y.status===201?L(`The environment "${m}" has been successfully cloned.`):d(`Error cloning environment "${m}`)}}catch(c){const a=(f=(i=c.response)==null?void 0:i.data)==null?void 0:f.error;a&&a.name&&a.message?d(`Error cloning environment: ${a.name} - ${a.message}`):c.response?d(`Error cloning environment: ${JSON.stringify(c.response.data)}`):d(`Error cloning environment: ${c.message}`)}}
//# sourceMappingURL=index.js.map
