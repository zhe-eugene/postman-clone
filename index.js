import{i as I,a as f}from"./assets/vendor-DSJL_ovD.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}})();document.querySelectorAll(".tab-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".tab-btn").forEach(s=>s.classList.remove("active")),document.querySelectorAll(".tab-content").forEach(s=>s.classList.remove("active")),t.classList.add("active");const n=t.getAttribute("data-tab");document.getElementById(n).classList.add("active")})});function m(t){I.warning({message:t,titleColor:"#fff",titleSize:"16px",titleLineHeight:"1.5",messageColor:"#fff",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topCenter",timeout:5e3})}function $(t){I.success({message:t,titleColor:"#fff",titleSize:"16px",titleLineHeight:"1.5",messageColor:"#fff",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"green",position:"topCenter",timeout:5e3})}function B(t){I.info({message:t,titleColor:"#fff",titleSize:"16px",titleLineHeight:"1.5",messageColor:"#000",messageSize:"16px",messageLineHeight:"1.5",backgroundColor:"yellow",position:"topCenter",timeout:5e3})}const C=document.getElementById("collection-clone");C.addEventListener("submit",async t=>{t.preventDefault();const n=document.getElementById("apiKeyFromCol").value.trim(),s=document.getElementById("apiKeyToCol").value.trim(),a=document.getElementById("colIdFromCol").value.trim(),e=document.getElementById("wpIdToCol").value.trim();await x(n,s,a,e),C.reset()});async function x(t,n,s,a){var l,g;const e={"X-Api-Key":t},i={"X-Api-Key":n};try{const c=`https://api.getpostman.com/collections/${s}`,r=(await f.get(c,{headers:e})).data.collection;r.info&&r.info._postman_id&&delete r.info._postman_id,r.info&&r.info.uid&&delete r.info.uid;const d=`https://api.getpostman.com/collections?workspace=${a}`,h={collection:r},p=await f.post(d,h,{headers:i});p.status===200||p.status===201?$(`The collection "${r.info.name}" has been successfully cloned to the target workspace.`):m(`Error creating collection: status ${p.status}`)}catch(c){const o=(g=(l=c.response)==null?void 0:l.data)==null?void 0:g.error;o&&o.name&&o.message?m(`Error cloning collection: ${o.name} - ${o.message}`):c.response?m(`Error cloning collection: ${JSON.stringify(c.response.data)}`):m(`Error cloning collection: ${c.message}`)}}const A=document.getElementById("all-collections");A.addEventListener("submit",async t=>{t.preventDefault();const n=document.getElementById("apiKeyFromAll").value.trim(),s=document.getElementById("apiKeyToAll").value.trim(),a=document.getElementById("wpIdFromAll").value.trim(),e=document.getElementById("wpIdToAll").value.trim();await D(n,s,a,e),A.reset()});async function K(t,n){const s=`https://api.getpostman.com/collections?workspace=${t}`;return(await f.get(s,{headers:n})).data.collections}async function D(t,n,s,a){var l,g;const e={"X-Api-Key":t},i={"X-Api-Key":n};try{const c=await K(s,e),o=await K(a,i);for(let r of c){const d=r.name;if(o.some(p=>p.name===d))k(`The collection "${d}" already exists in the target workspace.`);else{const p=`https://api.getpostman.com/collections/${r.uid}`,u=(await f.get(p,{headers:e})).data.collection;u.info&&u.info._postman_id&&delete u.info._postman_id,u.info&&u.info.uid&&delete u.info.uid;const v=`https://api.getpostman.com/collections?workspace=${a}`,E={collection:u},y=await f.post(v,E,{headers:i});y.status===200||y.status===201?$(`The collection  "${d}" has been successfully cloned to the target workspace.`):m(`Error creating collection: status  "${d}": status ${y.status}`)}}}catch(c){const o=(g=(l=c.response)==null?void 0:l.data)==null?void 0:g.error;o&&o.name&&o.message?m(`Error cloning collection: ${o.name} - ${o.message}`):c.response?m(`Error cloning collection: ${JSON.stringify(c.response.data)}`):m(`Error cloning collection: ${c.message}`)}}let w=0;function k(t){w++,setTimeout(()=>{B(t),w--},w*2e3)}const L=document.getElementById("environment-clone");L.addEventListener("submit",async t=>{t.preventDefault();const n=document.getElementById("apiKeyFromEnv").value.trim(),s=document.getElementById("apiKeyToEnv").value.trim(),a=document.getElementById("wpIdFromEnv").value.trim(),e=document.getElementById("wpIdToEnv").value.trim();await F(n,s,a,e),L.reset()});async function b(t,n){const s=`https://api.getpostman.com/environments?workspace=${t}`;return(await f.get(s,{headers:n})).data.environments}async function F(t,n,s,a){var l,g;const e={"X-Api-Key":t},i={"X-Api-Key":n};try{const c=await b(s,e),o=await b(a,i);for(let r of c){const d=r.name;if(o.some(S=>S.name===d)){B(`The environment "${d}" already exists in the target workspace.`);continue}const p=`https://api.getpostman.com/environments/${r.uid}`,u=(await f.get(p,{headers:e})).data.environment;delete u.id,delete u.uid;const v=`https://api.getpostman.com/environments?workspace=${a}`,E={environment:u},y=await f.post(v,E,{headers:i});y.status===200||y.status===201?$(`The environment "${d}" has been successfully cloned.`):m(`Error cloning environment "${d}`)}}catch(c){const o=(g=(l=c.response)==null?void 0:l.data)==null?void 0:g.error;o&&o.name&&o.message?m(`Error cloning environment: ${o.name} - ${o.message}`):c.response?m(`Error cloning environment: ${JSON.stringify(c.response.data)}`):m(`Error cloning environment: ${c.message}`)}}
//# sourceMappingURL=index.js.map
